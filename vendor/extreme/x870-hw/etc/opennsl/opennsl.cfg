#
# Logical to physical port mappings for the X870 platform (BCM56960 -Tomahawk)
#
# Broadcom forces us to map ports as follows:
#
# - Any physical port in pipe0, the device_port should have a range between 1 to 33
# - Any physical port in pipe1, the device_port should have a range between 34 to 67
# - Any physical port in pipe2, the device_port should have a range between 68 to 100
# - Any physical port in pipe3, the device_port should have a range between 102 to 133
#
# This means that we can't map them in the order they are on
# the front panel. The order of the ports on the front panel is
# FC-8/zQSFP0 - FC-31/zQSFP23, FC-0/zQSFP24 - FC-7/zQSFP31.
#
# The following ports have fixed mappings that cannot be changed:
#
#       Logical Port    Physical Port   Purpose
#       ------------    -------------   -------
#         0               0             cpu port
#        33             132             loopback port 0
#        67             133             loopback port 1
#       101             134             loopback port 2
#       135             135             loopback port 3
#

# FC-0 - FC-7
portmap_1=1:100
portmap_5=5:100
portmap_9=9:100
portmap_13=13:100
portmap_17=17:100
portmap_21=21:100
portmap_25=25:100
portmap_29=29:100

# FC-8 - FC-15
portmap_34=33:100
portmap_38=37:100
portmap_42=41:100
portmap_46=45:100
portmap_50=49:100
portmap_54=53:100
portmap_58=57:100
portmap_62=61:100

# FC-16 - FC-23
portmap_68=65:100
portmap_72=69:100
portmap_76=73:100
portmap_80=77:100
portmap_84=81:100
portmap_88=85:100
portmap_92=89:100
portmap_96=93:100

# FC-24 - FC-31
portmap_102=97:100
portmap_106=101:100
portmap_110=105:100
portmap_114=109:100
portmap_118=113:100
portmap_122=117:100
portmap_126=121:100
portmap_130=125:100

#
# RX lane mappings
#
xgxs_rx_lane_map_1=0x3012
xgxs_rx_lane_map_5=0x1230
xgxs_rx_lane_map_9=0x3012
xgxs_rx_lane_map_13=0x1230
xgxs_rx_lane_map_17=0x1230
xgxs_rx_lane_map_21=0x1230
xgxs_rx_lane_map_25=0x1230
xgxs_rx_lane_map_29=0x1230

xgxs_rx_lane_map_34=0x1032
xgxs_rx_lane_map_38=0x1230
xgxs_rx_lane_map_42=0x1032
xgxs_rx_lane_map_46=0x1230
xgxs_rx_lane_map_50=0x1230
xgxs_rx_lane_map_54=0x3012
xgxs_rx_lane_map_58=0x1230
xgxs_rx_lane_map_62=0x3012

xgxs_rx_lane_map_68=0x3012
xgxs_rx_lane_map_72=0x3012
xgxs_rx_lane_map_76=0x1230
xgxs_rx_lane_map_80=0x3012
xgxs_rx_lane_map_84=0x3012
xgxs_rx_lane_map_88=0x3012
xgxs_rx_lane_map_92=0x3012
xgxs_rx_lane_map_96=0x3012

xgxs_rx_lane_map_102=0x3210
xgxs_rx_lane_map_106=0x3012
xgxs_rx_lane_map_110=0x3210
xgxs_rx_lane_map_114=0x3012
xgxs_rx_lane_map_118=0x3012
xgxs_rx_lane_map_122=0x1230
xgxs_rx_lane_map_126=0x3012
xgxs_rx_lane_map_130=0x3012

#
# TX lane mappings
#
xgxs_tx_lane_map_1=0x3210
xgxs_tx_lane_map_5=0x1032
xgxs_tx_lane_map_9=0x3210
xgxs_tx_lane_map_13=0x1032
xgxs_tx_lane_map_17=0x3210
xgxs_tx_lane_map_21=0x3210
xgxs_tx_lane_map_25=0x3210
xgxs_tx_lane_map_29=0x1230

xgxs_tx_lane_map_34=0x2301
xgxs_tx_lane_map_38=0x3210
xgxs_tx_lane_map_42=0x2301
xgxs_tx_lane_map_46=0x3210
xgxs_tx_lane_map_50=0x0123
xgxs_tx_lane_map_54=0x3210
xgxs_tx_lane_map_58=0x0123
xgxs_tx_lane_map_62=0x3210

xgxs_tx_lane_map_68=0x2301
xgxs_tx_lane_map_72=0x3210
xgxs_tx_lane_map_76=0x0123
xgxs_tx_lane_map_80=0x1032
xgxs_tx_lane_map_84=0x0123
xgxs_tx_lane_map_88=0x1032
xgxs_tx_lane_map_92=0x0123
xgxs_tx_lane_map_96=0x1032

xgxs_tx_lane_map_102=0x1032
xgxs_tx_lane_map_106=0x1032
xgxs_tx_lane_map_110=0x1032
xgxs_tx_lane_map_114=0x1032
xgxs_tx_lane_map_118=0x1032
xgxs_tx_lane_map_122=0x1032
xgxs_tx_lane_map_126=0x3210
xgxs_tx_lane_map_130=0x3210

#
# Allow oversubscription . Internal packet switch in the
# Tomahawk does not support a full 100Gb/s on each port
#
oversubscribe_mode=1

#
# There are 137 allowable logical ports on the Tomahawk. Specify each of them
# as an Ethernet port as against a HiGig port which is the default.
#
pbmp_xport_xe=0xffffffffffffffffffffffffffffffffffe

#
# Use polling mode for all operations while we try and debug the schan timeout
# errors.
#
schan_intr_enable=0
